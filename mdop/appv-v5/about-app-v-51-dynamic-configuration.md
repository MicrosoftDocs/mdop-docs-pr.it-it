---
title: Informazioni sulla configurazione dinamica di App-V 5,1
description: Puoi usare la configurazione dinamica per personalizzare un pacchetto di App-V 5,1 per un utente. Usare le informazioni seguenti per creare o modificare un file di configurazione dinamica esistente.
author: dansimp
ms.assetid: 35bc9908-d502-4a9c-873f-8ee17b6d9d74
ms.reviewer: ''
manager: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/28/2018
ms.author: dansimp
ms.openlocfilehash: ec8a25da6e139ac329810b1e04f7097cadaa6ab4
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/26/2020
ms.locfileid: "10814965"
---
# <span data-ttu-id="2bfa8-104">Informazioni sulla configurazione dinamica di App-V 5,1</span><span class="sxs-lookup"><span data-stu-id="2bfa8-104">About App-V 5.1 dynamic configuration</span></span> 
<span data-ttu-id="2bfa8-105">Con la configurazione dinamica, è possibile modificare il file di configurazione dinamica per personalizzare il modo in cui viene eseguito un pacchetto di App-V 5,1 per un utente o un gruppo.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-105">With dynamic configuration, you can edit the dynamic configuration file to customize how an App-V 5.1 package runs for a user or group.</span></span> <span data-ttu-id="2bfa8-106">La personalizzazione del pacchetto Elimina la necessità di risequenziare i pacchetti usando le impostazioni desiderate.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-106">Package customization removes the need to resequence packages using the desired settings.</span></span>  <span data-ttu-id="2bfa8-107">Offre anche un modo per proteggere il contenuto del pacchetto e le impostazioni personalizzate indipendentemente.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-107">It also provides a way to keep package content and custom settings independent.</span></span>

<span data-ttu-id="2bfa8-108">I pacchetti di applicazioni virtuali contengono un manifesto che fornisce tutte le informazioni di base per il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-108">Virtual application packages contain a manifest that provides all the core information for the package.</span></span> <span data-ttu-id="2bfa8-109">Queste informazioni includono i valori predefiniti per le impostazioni del pacchetto e determinano le impostazioni nella maschera più elementare (senza ulteriori personalizzazioni).</span><span class="sxs-lookup"><span data-stu-id="2bfa8-109">This information includes the defaults for the package settings and determines settings in the most basic form (with no additional customization).</span></span> 

<span data-ttu-id="2bfa8-110">Quando viene creato un pacchetto, il sequencer genera automaticamente i file XML di distribuzione e configurazione utente usando i dati del manifesto del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-110">When a package gets created, the sequencer generates default deployment and user configuration .xml files automatically using the package manifest data.</span></span> <span data-ttu-id="2bfa8-111">Di conseguenza, questi file generati riflettono le impostazioni predefinite configurate durante la sequenziazione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-111">Therefore, these generated files reflect the default settings configured during sequencing.</span></span> <span data-ttu-id="2bfa8-112">Se si applicano questi file a un pacchetto nella maschera generata dal sequencer, i pacchetti hanno le stesse impostazioni predefinite fornite dal manifesto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-112">If you apply these files to a package in the form generated by the sequencer, the packages have the same default settings that came from their manifest.</span></span> 

<span data-ttu-id="2bfa8-113">Usa questi file generati per apportare modifiche, se necessario, che non influiscono direttamente sul pacchetto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-113">Use these generated files to make changes, if necessary, which doesn’t directly affect the package.</span></span> <span data-ttu-id="2bfa8-114">Se si vogliono aggiungere, eliminare o aggiornare i file di configurazione, apportare le modifiche relative ai valori predefiniti nelle informazioni del manifesto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-114">If you want to add, delete or update the configuration files, make your changes about the default values in the manifest information.</span></span>

>[!TIP]
><span data-ttu-id="2bfa8-115">Ordine in cui i file sono letti:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-115">The order in which the files read are:</span></span><ul><li><span data-ttu-id="2bfa8-116">UserConfig.xml</span><span class="sxs-lookup"><span data-stu-id="2bfa8-116">UserConfig.xml</span></span></li><li><span data-ttu-id="2bfa8-117">DeploymentConfig.xml</span><span class="sxs-lookup"><span data-stu-id="2bfa8-117">DeploymentConfig.xml</span></span></li><li><span data-ttu-id="2bfa8-118">Manifesto</span><span class="sxs-lookup"><span data-stu-id="2bfa8-118">Manifest</span></span></li></ul><p><span data-ttu-id="2bfa8-119">La prima voce rappresenta ciò che viene letto per ultimo.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-119">The first entry represents what gets read last.</span></span> <span data-ttu-id="2bfa8-120">Di conseguenza, il suo contenuto ha la precedenza e tutti i pacchetti contengono intrinsecamente e includono le impostazioni predefinite del manifesto del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-120">Therefore, its content takes precedence, and all packages inherently contain and provide default settings from the package manifest.</span></span><ol><li> <span data-ttu-id="2bfa8-121">Se si Personalizza il file DeploymentConfig.xml e si applicano le impostazioni personalizzate, le impostazioni predefinite nel manifesto del pacchetto vengono ignorate.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-121">If customizing the DeploymentConfig.xml file and apply the customized settings, the default settings in the package manifest get overridden.</span></span> </li><li> <span data-ttu-id="2bfa8-122">Se si Personalizza la UserConfig.xml e si applicano le impostazioni personalizzate, le impostazioni predefinite per la configurazione della distribuzione e il manifesto del pacchetto vengono ignorate.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-122">If customizing the UserConfig.xml and apply the customized settings, the default settings for both the deployment configuration and the package manifest get overridden.</span></span> </li></ol>

## <span data-ttu-id="2bfa8-123">Contenuto del file di configurazione utente (UserConfig.xml)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-123">User configuration file contents (UserConfig.xml)</span></span>
<span data-ttu-id="2bfa8-124">Il file UserConfig fornisce le impostazioni di configurazione che vengono applicate a un utente specifico quando si distribuisce il pacchetto in un computer che esegue il client App-V 5,1.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-124">The UserConfig file provides configuration settings that get applied for a specific user when deploying the package to a computer running the App-V 5.1 client.</span></span>  <span data-ttu-id="2bfa8-125">Queste impostazioni non influiscono sugli altri utenti del client.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-125">These settings don’t affect any other users on the client.</span></span>

<span data-ttu-id="2bfa8-126">Usare il file UserConfig per specificare o modificare le impostazioni personalizzate per un pacchetto:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-126">Use the UserConfig file to specify or modify custom settings for a package:</span></span>

-   <span data-ttu-id="2bfa8-127">Estensioni integrate nel sistema nativo per utente: scelte rapide, associazioni di tipi di file, protocolli URL, AppPaths, client software e COM</span><span class="sxs-lookup"><span data-stu-id="2bfa8-127">Extensions integrated into the native system per user: shortcuts, file-type associations, URL protocols, AppPaths, software clients and COM</span></span>
-   <span data-ttu-id="2bfa8-128">Sottosistemi virtuali: oggetti applicazione, variabili di ambiente, modifiche del registro di sistema, servizi e tipi di carattere</span><span class="sxs-lookup"><span data-stu-id="2bfa8-128">Virtual subsystems: application objects, environment variables, registry modifications, services and fonts</span></span>
-   <span data-ttu-id="2bfa8-129">Script (solo contesto utente)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-129">Scripts (user context only)</span></span>
-   <span data-ttu-id="2bfa8-130">Autorità di gestione (per controllare la coesistenza del pacchetto con l'App-V 4,6)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-130">Managing authority (for controlling co-existence of package with App-V 4.6)</span></span>

### <span data-ttu-id="2bfa8-131">Intestazione</span><span class="sxs-lookup"><span data-stu-id="2bfa8-131">Header</span></span>

<span data-ttu-id="2bfa8-132">L'intestazione di un file di configurazione utente dinamico ha un aspetto simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-132">The header of a dynamic user configuration file looks like:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?><UserConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="http://schemas.microsoft.com/appv/2010/userconfiguration">
```

<span data-ttu-id="2bfa8-133">**PackageID** è lo stesso valore esistente nel file manifesto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-133">The **PackageId** is the same value as exists in the manifest file.</span></span>


### <span data-ttu-id="2bfa8-134">Corpo</span><span class="sxs-lookup"><span data-stu-id="2bfa8-134">Body</span></span>

<span data-ttu-id="2bfa8-135">Il corpo del file di configurazione dell'utente dinamico può includere tutti i punti di estensione dell'app definiti nel file manifesto, oltre a informazioni per configurare le applicazioni virtuali.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-135">The body of the dynamic user configuration file can include all the app extension points defined in the manifest file, as well as information to configure virtual applications.</span></span> <span data-ttu-id="2bfa8-136">Nel corpo sono consentite quattro sottosezioni:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-136">There are four subsections allowed in the body:</span></span>

1.  **[<span data-ttu-id="2bfa8-137">Applicazioni</span><span class="sxs-lookup"><span data-stu-id="2bfa8-137">Applications</span></span>](#applications)** 
2.  **[<span data-ttu-id="2bfa8-138">Sottosistemi</span><span class="sxs-lookup"><span data-stu-id="2bfa8-138">Subsystems</span></span>](#subsystems)**
3.  **[<span data-ttu-id="2bfa8-139">UserScripts</span><span class="sxs-lookup"><span data-stu-id="2bfa8-139">UserScripts</span></span>](#userscripts)**
4.  **[<span data-ttu-id="2bfa8-140">ManagingAuthority</span><span class="sxs-lookup"><span data-stu-id="2bfa8-140">ManagingAuthority</span></span>](#managingauthority)**

#### <span data-ttu-id="2bfa8-141">Applicazioni</span><span class="sxs-lookup"><span data-stu-id="2bfa8-141">Applications</span></span>

<span data-ttu-id="2bfa8-142">Tutte le estensioni delle app contenute nel file manifesto all'interno di un pacchetto hanno un ID applicazione assegnato, che si trova nel file manifesto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-142">All app-extensions contained in the manifest file within a package have an Application ID assigned, which you find in the manifest file.</span></span> <span data-ttu-id="2bfa8-143">L'ID applicazione consente di abilitare o disabilitare tutte le estensioni per una determinata applicazione all'interno di un pacchetto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-143">The Application ID lets you enable or disable all extensions for a given application within a package.</span></span> <span data-ttu-id="2bfa8-144">L'ID applicazione deve esistere nel file manifesto o viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-144">The Application ID must exist in the manifest file, or it gets ignored.</span></span>

```XML
<UserConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved"  xmlns="http://schemas.microsoft.com/appv/2010/userconfiguration">

<Applications>

<!--No new application can be defined in policy. AppV Client will ignore any application ID that is not also in the Manifest file-->

<Application Id="{a56fa627-c35f-4a01-9e79-7d36aed8225a}" Enabled="false">

</Application>

</Applications>

..

</UserConfiguration>
```

#### <span data-ttu-id="2bfa8-145">Sottosistemi</span><span class="sxs-lookup"><span data-stu-id="2bfa8-145">Subsystems</span></span>

<span data-ttu-id="2bfa8-146">AppExtensions e altri sottosistemi disposti come sottonodi.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-146">AppExtensions and other subsystems arranged as subnodes.</span></span>

```XML
<UserConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="http://schemas.microsoft.com/appv/2010/userconfiguration">

<Subsystems>

..

</Subsystems>

..

</UserConfiguration>
```

<span data-ttu-id="2bfa8-147">Puoi abilitare o disabilitare ogni sottosistema usando l'attributo **Enabled** .</span><span class="sxs-lookup"><span data-stu-id="2bfa8-147">You can enable or disable each subsystem using the **Enabled** attribute.</span></span>

**<span data-ttu-id="2bfa8-148">Extensions</span><span class="sxs-lookup"><span data-stu-id="2bfa8-148">Extensions</span></span>** 

<span data-ttu-id="2bfa8-149">Alcuni sottosistemi (sottosistemi di estensione) controllano le estensioni.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-149">Some subsystems (extension subsystems) control extensions.</span></span> <span data-ttu-id="2bfa8-150">Questi sottosistemi sono collegamenti, associazioni di tipi di file, protocolli URL, AppPaths, client software e COM.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-150">Those subsystems are Shortcuts, File-Type associations, URL Protocols, AppPaths, Software Clients, and COM.</span></span>

<span data-ttu-id="2bfa8-151">I sottosistemi di estensione possono essere abilitati e disabilitati indipendentemente dal contenuto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-151">Extension subsystems can be enabled and disabled independently of the content.</span></span> <span data-ttu-id="2bfa8-152">Ad esempio, se attivi i tasti di scelta rapida, il client usa i tasti di scelta rapida contenuti nel manifesto per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-152">For example, if you enable Shortcuts, the client uses the Shortcuts contained within the manifest by default.</span></span> <span data-ttu-id="2bfa8-153">Ogni sottosistema di estensione può contenere un \<Extensions\> nodo.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-153">Each extension subsystem can contain an \<Extensions\> node.</span></span> <span data-ttu-id="2bfa8-154">Se questo elemento figlio è presente, il client ignora il contenuto nel file manifesto per il sottosistema e usa solo il contenuto nel file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-154">If this child element is present, the client ignores the content in the manifest file for that subsystem and only use the content in the configuration file.</span></span> 

_**<span data-ttu-id="2bfa8-155">Esempi:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-155">Examples:</span></span>**_ 

- <span data-ttu-id="2bfa8-156">Se si definisce questa opzione nel file di configurazione dell'utente o della distribuzione, il contenuto del manifesto viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-156">If you define this in either the user or deployment config file, the content in the manifest gets ignored.</span></span>

  ```XML

  <Shortcuts  Enabled="true"\>

  <Extensions>

  ...

  </Extensions>

  </Shortcuts>
  ```
- <span data-ttu-id="2bfa8-157">Se si definiscono solo le operazioni seguenti, il contenuto del manifesto viene integrato durante la pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-157">If you define only the following, the content in the manifest gets integrated during publishing.</span></span>

  ```XML

  <Shortcuts  Enabled="true"/>
  ```

- <span data-ttu-id="2bfa8-158">Se si definiscono le operazioni seguenti, tutti i tasti di scelta rapida all'interno del manifesto vengono ignorati.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-158">If you define the following, all Shortcuts within the manifest still get ignored.</span></span> <span data-ttu-id="2bfa8-159">In altre parole, le scelte rapide non vengono integrate.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-159">In other words, no Shortcuts get integrated.</span></span>

  ```XML

  <Shortcuts  Enabled="true">

     <Extensions/>

  </Shortcuts>
  ```

_**<span data-ttu-id="2bfa8-160">Sottosistemi di estensione supportati:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-160">Supported extension subsystems:</span></span>**_ 

<span data-ttu-id="2bfa8-161">Il sottosistema delle estensioni di **tasti di scelta rapida** controlla quali scelte rapide vengono integrate nel sistema locale.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-161">**Shortcuts** extension subsystem controls what shortcuts get integrated into the local system.</span></span>  

```XML

<Subsystems>

<Shortcuts Enabled="true">

  <Extensions>

    <Extension Category="AppV.Shortcut">

      <Shortcut>

        <File>[{Common Programs}]\Microsoft Contoso\Microsoft ContosoApp Filler 2010.lnk</File>

        <Target>[{PackageRoot}]\Contoso\ContosoApp.EXE</Target>


      <Icon>[{Windows}]\Installer\{90140000-0011-0000-0000-0000000FF1CE}\inficon.exe</Icon>

        <Arguments />

        <WorkingDirectory />

        <AppUserModelId>ContosoApp.Filler.3</AppUserModelId>

        <Description>Fill out dynamic forms to gather and reuse information throughout the organization using Microsoft ContosoApp.</Description>

        <Hotkey>0</Hotkey>

        <ShowCommand>1</ShowCommand>

      <ApplicationId>[{PackageRoot}]\Contoso\ContosoApp.EXE</ApplicationId>

      </Shortcut>

  </Extension>

  <Extension Category="AppV.Shortcut">

    <Shortcut>

    <File>[{AppData}]\Microsoft\Contoso\Recent\Templates.LNK</File>

      <Target>[{AppData}]\Microsoft\Templates</Target>

      <Icon />

      <Arguments />

      <WorkingDirectory />

      <AppUserModelId />

      <Description />

      <Hotkey>0</Hotkey>

      <ShowCommand>1</ShowCommand>

      <!-- Note the ApplicationId is optional -->

    </Shortcut>

  </Extension>

 </Extensions>

</Shortcuts>
```

<span data-ttu-id="2bfa8-162">**File-Type Associates** Extension Subsystem associa i tipi di file ai programmi da aprire per impostazione predefinita, nonché la configurazione del menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-162">**File-Type Associates** extension subsystem associates file types with programs to open by default as well as set up the context menu.</span></span> 

>[!TIP]
><span data-ttu-id="2bfa8-163">Puoi configurare il sottosistema con i tipi MIME.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-163">You can set up the subsystem with MIME types.</span></span>

```XML

<FileTypeAssociations Enabled="true">

<Extensions>

  <Extension Category="AppV.FileTypeAssociation">

    <FileTypeAssociation>

      <FileExtension MimeAssociation="true">

      <Name>.docm</Name>

      <ProgId>contosowordpad.DocumentMacroEnabled.12</ProgId>

      <PerceivedType>document</PerceivedType>

    <ContentType>application/vnd.ms-contosowordpad.document.macroEnabled.12</ContentType>

      <OpenWithList>

        <ApplicationName>wincontosowordpad.exe</ApplicationName>

      </OpenWithList>

     <OpenWithProgIds>

        <ProgId>contosowordpad.8</ProgId>

      </OpenWithProgIds>

      <ShellNew>

        <Command />

        <DataBinary />

        <DataText />

        <FileName />

        <NullFile>true</NullFile>

        <ItemName />

        <IconPath />

        <MenuText />

        <Handler />

      </ShellNew>

    </FileExtension>

    <ProgId>

       <Name>contosowordpad.DocumentMacroEnabled.12</Name>

      <DefaultIcon\>[{Windows}]\Installer\{90140000-0011-0000-0000-000000FF1CE}\contosowordpadicon.exe,15</DefaultIcon>

        <Description>Blah Blah Blah</Description>

        <FriendlyTypeName>[{FOLDERID_ProgramFilesX86}]\Microsoft Contoso 14\res.dll,9182</FriendlyTypeName>

        <InfoTip>[{FOLDERID_ProgramFilesX86}]\Microsoft Contoso 14\res.dll,1424</InfoTip>

        <EditFlags>0</EditFlags>

        <ShellCommands>

          <DefaultCommand>Open</DefaultCommand>

          <ShellCommand>

           <ApplicationId>{e56fa627-c35f-4a01-9e79-7d36aed8225a}</ApplicationId>

             <Name>Edit</Name>

             <FriendlyName>&Edit</FriendlyName>

           <CommandLine>"[{PackageRoot}]\Contoso\WINcontosowordpad.EXE" /vu "%1"</CommandLine>

          </ShellCommand>

          </ShellCommand>

          <ApplicationId>{e56fa627-c35f-4a01-9e79-7d36aed8225a}</ApplicationId>

            <Name>Open</Name>

            <FriendlyName>&Open</FriendlyName>

            <CommandLine>"[{PackageRoot}]\Contoso\WINcontosowordpad.EXE" /n "%1"</CommandLine>

            <DropTargetClassId />

            <DdeExec>

              <Application>mscontosowordpad</Application>

              <Topic>ShellSystem</Topic>

              <IfExec>[SHELLNOOP]</IfExec>

              <DdeCommand>[SetForeground][ShellNewDatabase"%1"]</DdeCommand>

            </DdeExec>

          </ShellCommand>

        </ShellCommands>

      </ProgId>

     </FileTypeAssociation>

   </Extension>

  </Extensions>

  </FileTypeAssociations>
```

<span data-ttu-id="2bfa8-164">Il sottosistema estensioni **protocolli URL** controlla i protocolli URL integrati nel registro locale del computer client, ad esempio _mailto:_.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-164">**URL Protocols** extension subsystem controls the URL protocols integrated into the local registry of the client machine, for example, _mailto:_.</span></span> 

```XML

<URLProtocols Enabled="true">

<Extensions>

<Extension Category="AppV.URLProtocol">

<URLProtocol>

  <Name>mailto</Name>

  <ApplicationURLProtocol>

  <DefaultIcon>[{ProgramFilesX86}]\MicrosoftContoso\Contoso\contosomail.EXE,-9403</DefaultIcon>

  <EditFlags>2</EditFlags>

  <Description />

  <AppUserModelId />

  <FriendlyTypeName />

  <InfoTip />

<SourceFilter />

  <ShellFolder />

  <WebNavigableCLSID />

  <ExplorerFlags>2</ExplorerFlags>

  <CLSID />

  <ShellCommands>

  <DefaultCommand>open</DefaultCommand>

  <ShellCommand>

  <ApplicationId>[{ProgramFilesX86}]\Microsoft Contoso\Contoso\contosomail.EXE</ApplicationId>

  <Name>open</Name>

  <CommandLine>[{ProgramFilesX86}\Microsoft Contoso\Contoso\contosomail.EXE" -c OEP.Note /m "%1"</CommandLine>

  <DropTargetClassId />

  <FriendlyName />

  <Extended>0</Extended>

  <LegacyDisable>0</LegacyDisable>

  <SuppressionPolicy>2</SuppressionPolicy>

   <DdeExec>

  <NoActivateHandler />

  <Application>contosomail</Application>

  <Topic>ShellSystem</Topic>

  <IfExec>[SHELLNOOP]</IfExec>

  <DdeCommand>[SetForeground][ShellNewDatabase "%1"]</DdeCommand>

  </DdeExec>

  </ShellCommand>

  </ShellCommands>

  </ApplicationURLProtocol>

  </URLProtocol>

  </Extension>

  </Extension>

  </URLProtocols>
```

<span data-ttu-id="2bfa8-165">Il sottosistema estensione **client software** consente all'app di registrarsi come client di posta elettronica, lettore di notizie, lettore multimediale e rende visibile l'app nell'interfaccia utente imposta l'accesso e il computer.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-165">**Software Clients** extension subsystem allows the app to register as an email client, news reader, media player and makes the app visible in the Set program access and Computer defaults UI.</span></span> <span data-ttu-id="2bfa8-166">Nella maggior parte dei casi devi solo abilitarlo e disabilitarlo.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-166">In most cases, you should only need to enable and disable it.</span></span> <span data-ttu-id="2bfa8-167">Esiste anche un controllo che consente di abilitare e disabilitare il client di posta elettronica in modo specifico se si vuole che gli altri client siano ancora abilitati, ad eccezione del client.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-167">There is also a control to enable and disable the email client specifically if you want the other clients still enabled except for that client.</span></span>

```XML

<SoftwareClients Enabled="true">

  <ClientConfiguration EmailEnabled="false" />

</SoftwareClients>
```

<span data-ttu-id="2bfa8-168">Il sottosistema di estensione **AppPaths** apre le app registrate con un percorso applicazione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-168">**AppPaths** extension subsystem opens apps registered with an application path.</span></span> <span data-ttu-id="2bfa8-169">Ad esempio, se contoso.exe ha un nome AppPath di _MyApp_, gli utenti possono digitare _MyApp_ dal menu Esegui, aprendo contoso.exe.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-169">For example, if contoso.exe has an apppath name of _myapp_, users can type _myapp_ from the run menu, opening contoso.exe.</span></span>

```XML

<AppPaths Enabled="true">

<Extensions>

<Extension Category="AppV.AppPath">

<AppPath>

  <ApplicationId>[{ProgramFilesX86}]\Microsoft Contoso\Contoso\contosomail.EXE</ApplicationId>

  <Name>contosomail.exe</Name>

  <ApplicationPath>[{ProgramFilesX86}]\Microsoft Contoso\Contoso\contosomail.EXE</ApplicationPath>

  <PATHEnvironmentVariablePrefix />

  <CanAcceptUrl>false</CanAcceptUrl>

  <SaveUrl />

</AppPath>

</Extension>

</Extensions>

</AppPaths>
```

<span data-ttu-id="2bfa8-170">Il sottosistema delle estensioni **com** consente un'applicazione registrata nei server COM locali.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-170">**COM** extensions subsystem allows an application registered to local COM servers.</span></span> <span data-ttu-id="2bfa8-171">La modalità può essere:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-171">The mode can be:</span></span>

-   <span data-ttu-id="2bfa8-172">Integrazione</span><span class="sxs-lookup"><span data-stu-id="2bfa8-172">Integration</span></span>
-   <span data-ttu-id="2bfa8-173">Isolato</span><span class="sxs-lookup"><span data-stu-id="2bfa8-173">Isolated</span></span> 
-   <span data-ttu-id="2bfa8-174">Disattivato</span><span class="sxs-lookup"><span data-stu-id="2bfa8-174">Off</span></span>

```XML

<COM Mode="Isolated"/>
```

**<span data-ttu-id="2bfa8-175">Oggetti kernel virtuali</span><span class="sxs-lookup"><span data-stu-id="2bfa8-175">Virtual Kernel Objects</span></span>**

```XML

<Objects Enabled="false" />
```

<span data-ttu-id="2bfa8-176">Il registro di sistema **virtuale** imposta un registro di sistema nel registro di sistema virtuale in HKCU.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-176">**Virtual Registry** sets a registry in the virtual registry within HKCU.</span></span>

```XML

<Registry Enabled="true">

<Include>

<Key Path="\REGISTRY\USER\[{AppVCurrentUserSID}]\Software\ABC">

<Value Type="REG_SZ" Name="Bar" Data="NewValue" />

 </Key>

  <Key Path="\REGISTRY\USER\[{AppVCurrentUserSID}]\Software\EmptyKey" />

 </Include>

<Delete>

</Registry>
```

**<span data-ttu-id="2bfa8-177">File system virtuale</span><span class="sxs-lookup"><span data-stu-id="2bfa8-177">Virtual File System</span></span>**

```XML

    <FileSystem Enabled="true" />
```

**<span data-ttu-id="2bfa8-178">Tipi di carattere virtuali</span><span class="sxs-lookup"><span data-stu-id="2bfa8-178">Virtual Fonts</span></span>**

```XML

      <Fonts Enabled="false" />
```

**<span data-ttu-id="2bfa8-179">Variabili di ambiente virtuali</span><span class="sxs-lookup"><span data-stu-id="2bfa8-179">Virtual Environment Variables</span></span>**

```XML

<EnvironmentVariables Enabled="true">

<Include>

       <Variable Name="UserPath" Value="%path%;%UserProfile%" />

       <Variable Name="UserLib" Value="%UserProfile%\ABC" />

       </Include>

      <Delete>

       <Variable Name="lib" />

        </Delete>

        </EnvironmentVariables>
```

**<span data-ttu-id="2bfa8-180">Servizi virtuali</span><span class="sxs-lookup"><span data-stu-id="2bfa8-180">Virtual services</span></span>**

```XML

      <Services Enabled="false" />
```

#### <span data-ttu-id="2bfa8-181">UserScripts</span><span class="sxs-lookup"><span data-stu-id="2bfa8-181">UserScripts</span></span>

<span data-ttu-id="2bfa8-182">Usare UserScripts per configurare o modificare l'ambiente virtuale.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-182">Use UserScripts to set up or alter the virtual environment.</span></span>  <span data-ttu-id="2bfa8-183">È anche possibile eseguire script al momento della distribuzione o per pulire l'ambiente dopo la chiusura dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-183">You can also execute scripts at the time of deployment or to clean up the environment after the application terminates.</span></span> <span data-ttu-id="2bfa8-184">Per visualizzare uno script di esempio, fare riferimento al file di configurazione dell'utente generato dal sequencer.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-184">To see a sample script, refer to the user configuration file generated by the sequencer.</span></span> <span data-ttu-id="2bfa8-185">La sezione Scripts seguente fornisce altre informazioni sui vari trigger che possono essere usati.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-185">The Scripts section below provides more information on the various triggers that can be used.</span></span>

#### <span data-ttu-id="2bfa8-186">ManagingAuthority</span><span class="sxs-lookup"><span data-stu-id="2bfa8-186">ManagingAuthority</span></span>

<span data-ttu-id="2bfa8-187">USA ManagingAuthority quando due versioni del pacchetto coesistono nello stesso computer, uno distribuito in App-V 4,6 e un altro distribuito in App-V 5,0.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-187">Use ManagingAuthority when two versions of your package co-exist on the same machine, one deployed to App-V 4.6 and another deployed on App-V 5.0.</span></span> <span data-ttu-id="2bfa8-188">Per consentire a App-V vNext di assumere i punti di estensione App-V 4,6 per il pacchetto denominato, immettere quanto segue nel file UserConfig (dove PackageName è il GUID del pacchetto in App-V 4,6:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-188">To allow App-V vNext to take over App-V 4.6 extension points for the named package enter the following in the UserConfig file (where PackageName is the Package GUID in App-V 4.6:</span></span>

```XML

<ManagingAuthority TakeoverExtensionPointsFrom46="true" PackageName="032630c0-b8e2-417c-acef-76fc5297fe81" />
```

## <span data-ttu-id="2bfa8-189">File di configurazione della distribuzione (DeploymentConfig.xml)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-189">Deployment configuration file (DeploymentConfig.xml)</span></span>

<span data-ttu-id="2bfa8-190">Il file DeploymentConfig fornisce le impostazioni di configurazione per il contesto di computer e il contesto utente, fornendo le stesse funzionalità elencate nel file UserConfig.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-190">The DeploymentConfig file provides configuration settings for machine context and user context, providing the same capabilities listed in the UserConfig file.</span></span> <span data-ttu-id="2bfa8-191">L'impostazione viene applicata quando si distribuisce il pacchetto in un computer che esegue il client App-V 5,1.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-191">The setting get applied when deploying the package to a computer running the App-V 5.1 client.</span></span>

<span data-ttu-id="2bfa8-192">Usare il file DeploymentConfig per specificare o modificare le impostazioni personalizzate per un pacchetto:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-192">Use the DeploymentConfig file to specify or modify custom settings for a package:</span></span>

- <span data-ttu-id="2bfa8-193">Tutte le impostazioni di UserConfig</span><span class="sxs-lookup"><span data-stu-id="2bfa8-193">All UserConfig settings</span></span>
- <span data-ttu-id="2bfa8-194">Estensioni che possono essere applicate solo a livello globale per tutti gli utenti</span><span class="sxs-lookup"><span data-stu-id="2bfa8-194">Extensions that can only be applied globally for all users</span></span>
- <span data-ttu-id="2bfa8-195">Sottosistemi virtuali per le posizioni globali del computer, ad esempio il registro di sistema</span><span class="sxs-lookup"><span data-stu-id="2bfa8-195">Virtual subsystems for global machine locations, for example, registry</span></span>
- <span data-ttu-id="2bfa8-196">URL origine prodotto</span><span class="sxs-lookup"><span data-stu-id="2bfa8-196">Product source URL</span></span>
- <span data-ttu-id="2bfa8-197">Script (solo contesto computer)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-197">Scripts (machine context only)</span></span>
- <span data-ttu-id="2bfa8-198">Controlli per terminare i processi figlio</span><span class="sxs-lookup"><span data-stu-id="2bfa8-198">Controls to terminate child processes</span></span>

### <span data-ttu-id="2bfa8-199">Intestazione</span><span class="sxs-lookup"><span data-stu-id="2bfa8-199">Header</span></span>

<span data-ttu-id="2bfa8-200">L'intestazione di un file di configurazione della distribuzione dinamica ha un aspetto simile al seguente:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-200">The header of a dynamic deployment configuration file looks like:</span></span>

```XML
<?xml version="1.0" encoding="utf-8"?><DeploymentConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="http://schemas.microsoft.com/appv/2010/deploymentconfiguration">
```

<span data-ttu-id="2bfa8-201">**PackageID** è lo stesso valore esistente nel file manifesto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-201">The **PackageId** is the same value as exists in the manifest file.</span></span>

### <span data-ttu-id="2bfa8-202">Corpo</span><span class="sxs-lookup"><span data-stu-id="2bfa8-202">Body</span></span>

<span data-ttu-id="2bfa8-203">Il corpo del file di configurazione della distribuzione dinamica include due sezioni:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-203">The body of the dynamic deployment configuration file includes two sections:</span></span>

- <span data-ttu-id="2bfa8-204">**UserConfiguration:** consente lo stesso contenuto del file di configurazione dell'utente descritto nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-204">**UserConfiguration:** allows the same content as the user configuration file described in the previous section.</span></span>  <span data-ttu-id="2bfa8-205">Quando si pubblica il pacchetto in un utente, tutte le impostazioni di configurazione di appextensions in questa sezione eseguono l'override delle impostazioni corrispondenti nel manifesto all'interno del pacchetto, a meno che non venga fornito un file di configurazione utente.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-205">When publishing the package to a user, any appextensions configuration settings in this section override corresponding settings in the manifest within the package, unless you provide a user configuration file.</span></span> <span data-ttu-id="2bfa8-206">Se viene fornito anche un file UserConfig, viene usato al posto delle impostazioni utente nel file di configurazione della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-206">If also providing a UserConfig file, it gets used instead of the User settings in the deployment configuration file.</span></span> <span data-ttu-id="2bfa8-207">Se si pubblica il pacchetto globalmente, solo il contenuto del file di configurazione della distribuzione viene usato in combinazione con il manifesto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-207">If publishing the package globally, then only the contents of the deployment configuration file get used in combination with the manifest.</span></span> <span data-ttu-id="2bfa8-208">Per altre informazioni, Vedi [contenuto del file di configurazione utente (UserConfig.xml)](#user-configuration-file-contents-userconfigxml).</span><span class="sxs-lookup"><span data-stu-id="2bfa8-208">For more details, see [User configuration file contents (UserConfig.xml)](#user-configuration-file-contents-userconfigxml).</span></span>

- <span data-ttu-id="2bfa8-209">**MachineConfiguration:** contiene informazioni che possono essere configurate solo per un intero computer, non per un utente specifico nel computer.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-209">**MachineConfiguration:** contains information that can be configured only for an entire machine, not for a specific user on the machine.</span></span> <span data-ttu-id="2bfa8-210">Ad esempio, HKEY_LOCAL_MACHINE le chiavi del registro di sistema nel VFS.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-210">For example, HKEY_LOCAL_MACHINE registry keys in the VFS.</span></span>

```XML

<DeploymentConfiguration PackageId="1f8488bf-2257-46b4-b27f-09c9dbaae707" DisplayName="Reserved" xmlns="http://schemas.microsoft.com/appv/2010/deploymentconfiguration">

<UserConfiguration>

...

</UserConfiguration>

<MachineConfiguration>

...

</MachineConfiguration>

...

</MachineConfiguration>

</DeploymentConfiguration>
```

### <span data-ttu-id="2bfa8-211">UserConfiguration</span><span class="sxs-lookup"><span data-stu-id="2bfa8-211">UserConfiguration</span></span>

<span data-ttu-id="2bfa8-212">Fare riferimento al [contenuto del file di configurazione utente (UserConfig.xml)](#user-configuration-file-contents-userconfigxml) per informazioni sulle impostazioni disponibili per questa sezione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-212">Refer to [User configuration file contents (UserConfig.xml)](#user-configuration-file-contents-userconfigxml) for information on the settings provided for this section.</span></span> 

### <span data-ttu-id="2bfa8-213">MachineConfiguration</span><span class="sxs-lookup"><span data-stu-id="2bfa8-213">MachineConfiguration</span></span>

<span data-ttu-id="2bfa8-214">Usare la sezione MachineConfiguration per configurare le informazioni per un'intera macchina; non per un utente specifico nel computer.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-214">Use the MachineConfiguration section to configure information for an entire machine; not for a specific user on the computer.</span></span> <span data-ttu-id="2bfa8-215">Ad esempio, HKEY_LOCAL_MACHINE le chiavi del registro di sistema nel registro di sistema virtuale.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-215">For example, HKEY_LOCAL_MACHINE registry keys in the virtual registry.</span></span> <span data-ttu-id="2bfa8-216">In questo elemento sono consentite quattro sottosezioni:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-216">There are four subsections allowed in under this element:</span></span>

1.  **[<span data-ttu-id="2bfa8-217">Sottosistemi</span><span class="sxs-lookup"><span data-stu-id="2bfa8-217">Subsystems</span></span>](#subsystems-1)**
2.  **[<span data-ttu-id="2bfa8-218">ProductSourceURLOptOut</span><span class="sxs-lookup"><span data-stu-id="2bfa8-218">ProductSourceURLOptOut</span></span>](#productsourceurloptout)**
3.  **[<span data-ttu-id="2bfa8-219">MachineScripts</span><span class="sxs-lookup"><span data-stu-id="2bfa8-219">MachineScripts</span></span>](#machinescripts)**
4.  **[<span data-ttu-id="2bfa8-220">TerminateChildProcess</span><span class="sxs-lookup"><span data-stu-id="2bfa8-220">TerminateChildProcess</span></span>](#terminatechildprocess)**

#### <span data-ttu-id="2bfa8-221">Sottosistemi</span><span class="sxs-lookup"><span data-stu-id="2bfa8-221">Subsystems</span></span>

<span data-ttu-id="2bfa8-222">AppExtensions e altri sottosistemi disposti come sottonodi.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-222">AppExtensions and other subsystems arranged as subnodes.</span></span>

```XML

<MachineConfiguration>

  <Subsystems>

  …

  </Subsystems>

…

</MachineConfiguration>
```

<span data-ttu-id="2bfa8-223">Puoi abilitare o disabilitare ogni sottosistema usando l'attributo **Enabled** .</span><span class="sxs-lookup"><span data-stu-id="2bfa8-223">You can enable or disable each subsystem using the **Enabled** attribute.</span></span>

**<span data-ttu-id="2bfa8-224">Extensions</span><span class="sxs-lookup"><span data-stu-id="2bfa8-224">Extensions</span></span>** 

<span data-ttu-id="2bfa8-225">Alcuni sottosistemi (sottosistemi di estensione) controllano le estensioni.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-225">Some subsystems (extension subsystems) control extensions.</span></span> <span data-ttu-id="2bfa8-226">Il sottosistema è funzionalità delle applicazioni usate dai programmi predefiniti.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-226">The subsystem is Application Capabilities that default programs use.</span></span> <span data-ttu-id="2bfa8-227">Per questo tipo di estensione, il pacchetto deve essere pubblicato globalmente per l'integrazione nel sistema locale.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-227">For this type of extension, the package must be published globally for integration into the local system.</span></span> <span data-ttu-id="2bfa8-228">Le stesse regole per i controlli e le impostazioni applicabili alle estensioni della configurazione utente si applicano anche a quelle nella sezione MachineConfiguration.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-228">The same rules for controls and settings that apply to the Extensions in the User Configuration also, apply to those in the MachineConfiguration section.</span></span>

<span data-ttu-id="2bfa8-229">**Funzionalità delle applicazioni**: usate dai programmi predefiniti che consentono a un'applicazione di registrarsi come segue:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-229">**Application Capabilities**: Used by default programs that allow an application to register itself as:</span></span>

- <span data-ttu-id="2bfa8-230">In grado di aprire specifiche estensioni di file</span><span class="sxs-lookup"><span data-stu-id="2bfa8-230">Capable of opening specific file extensions</span></span>
- <span data-ttu-id="2bfa8-231">Un concorrente per lo slot del browser Internet del menu Start</span><span class="sxs-lookup"><span data-stu-id="2bfa8-231">A contender for the start menu internet browser slot</span></span>
- <span data-ttu-id="2bfa8-232">In grado di aprire specifici tipi MIME di Windows</span><span class="sxs-lookup"><span data-stu-id="2bfa8-232">Capable of opening specific windows MIME types</span></span>

<span data-ttu-id="2bfa8-233">Questa estensione rende inoltre visibile l'applicazione virtuale nell'interfaccia utente imposta programmi predefiniti.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-233">This extension also makes the virtual application visible in the Set default programs UI.</span></span>

```XML

<ApplicationCapabilities Enabled="true">

  <Extensions>

   <Extension Category="AppV.ApplicationCapabilities">

    <ApplicationCapabilities>


   <ApplicationId>[{PackageRoot}]\LitView\LitViewBrowser.exe</ApplicationId>

     <Reference>

      <Name>LitView Browser</Name>

      <Path>SOFTWARE\LitView\Browser\Capabilities</Path>

     </Reference>

   <CapabilityGroup>

    <Capabilities>


   <Name>@[{ProgramFilesX86}]\LitView\LitViewBrowser.exe,-12345</Name>


   <Description>@[{ProgramFilesX86}]\LitView\LitViewBrowser.exe,-12346</Description>

     <Hidden>0</Hidden>

     <EMailSoftwareClient>Lit View E-Mail Client</EMailSoftwareClient>

     <FileAssociationList>

      <FileAssociation Extension=".htm" ProgID="LitViewHTML" />

      <FileAssociation Extension=".html" ProgID="LitViewHTML" />

      <FileAssociation Extension=".shtml" ProgID="LitViewHTML" />

     </FileAssociationList>

     <MIMEAssociationList>

      <MIMEAssociation Type="audio/mp3" ProgID="LitViewHTML" />

      <MIMEAssociation Type="audio/mpeg" ProgID="LitViewHTML" />

     </MIMEAssociationList>

    <URLAssociationList>

      <URLAssociation Scheme="http" ProgID="LitViewHTML.URL.http" />

     </URLAssociationList>

     </Capabilities>

  </CapabilityGroup>

   </ApplicationCapabilities>

  </Extension>

</Extensions>

</ApplicationCapabilities>
```

_**<span data-ttu-id="2bfa8-234">Sottosistemi di estensione supportati:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-234">Supported extension subsystems:</span></span>**_ 

<span data-ttu-id="2bfa8-235">Il sottosistema di estensione **del registro virtuale di computer wide** imposta una chiave di registro nel registro virtuale all'interno di HKEY_LOCAL_MACHINE.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-235">**Machine Wide Virtual Registry** extension subsystem sets a registry key in the virtual registry within HKEY_Local_Machine.</span></span>

```XML

<Registry>

<Include>

  <Key Path="\REGISTRY\\Machine\Software\ABC">

    <Value Type="REG_SZ" Name="Bar" Data="Baz" />

   </Key>

  <Key Path="\REGISTRY\Machine\Software\EmptyKey" />

 </Include>

<Delete>

</Registry>
```

**<span data-ttu-id="2bfa8-236">Oggetti kernel virtuali a livello di computer</span><span class="sxs-lookup"><span data-stu-id="2bfa8-236">Machine Wide Virtual Kernel Objects</span></span>**

```XML

<Objects>

<NotIsolate>

   <Object Name="testObject" />

 </NotIsolate>

</Objects>
```

#### <span data-ttu-id="2bfa8-237">ProductSourceURLOptOut</span><span class="sxs-lookup"><span data-stu-id="2bfa8-237">ProductSourceURLOptOut</span></span>

<span data-ttu-id="2bfa8-238">USA ProductSourceURLOptOut per indicare che l'URL del pacchetto può essere modificato globalmente tramite _PackageSourceRoot_ (per supportare gli scenari di filiale).</span><span class="sxs-lookup"><span data-stu-id="2bfa8-238">Use ProductSourceURLOptOut to indicate that the URL for the package can be modified globally through _PackageSourceRoot_ (to support branch office scenarios).</span></span> <span data-ttu-id="2bfa8-239">Le modifiche hanno effetto sul prossimo avvio.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-239">Changes take effect on the next launch.</span></span> 

```XML

<MachineConfiguration>

  ... 

  <ProductSourceURLOptOut Enabled="true" />

  ...

</MachineConfiguration>
```

#### <span data-ttu-id="2bfa8-240">MachineScripts</span><span class="sxs-lookup"><span data-stu-id="2bfa8-240">MachineScripts</span></span>

<span data-ttu-id="2bfa8-241">Il pacchetto può essere configurato per eseguire script in fase di distribuzione, pubblicazione o rimozione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-241">The package can be configured to execute scripts at time of deployment, publishing or removal.</span></span> <span data-ttu-id="2bfa8-242">Per visualizzare uno script di esempio, vedere il file di configurazione della distribuzione generato dal sequencer.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-242">To see a sample script, refer to the deployment configuration file generated by the sequencer.</span></span> 

<span data-ttu-id="2bfa8-243">La sezione Scripts seguente fornisce altre informazioni sui vari trigger che possono essere usati.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-243">The Scripts section below provides more information on the various triggers that can be used.</span></span>

#### <span data-ttu-id="2bfa8-244">TerminateChildProcess</span><span class="sxs-lookup"><span data-stu-id="2bfa8-244">TerminateChildProcess</span></span>

<span data-ttu-id="2bfa8-245">È possibile specificare un file eseguibile dell'applicazione, i cui processi figlio vengono terminati al termine del processo exe dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-245">An application executable can be specified, whose child processes get terminated when the application exe process terminates.</span></span>

```XML

<MachineConfiguration>

  ...   

  <TerminateChildProcesses>

    <Application Path="[{PackageRoot}]\Contoso\ContosoApp.EXE" />

    <Application Path="[{PackageRoot}]\LitView\LitViewBrowser.exe" />

    <Application Path="[{ProgramFilesX86}]\Microsoft Contoso\Contoso\contosomail.EXE" />

  </TerminateChildProcesses>

  ...

</MachineConfiguration>
```



## <span data-ttu-id="2bfa8-246">Script</span><span class="sxs-lookup"><span data-stu-id="2bfa8-246">Scripts</span></span>

<span data-ttu-id="2bfa8-247">La tabella seguente descrive i vari eventi di script e il contesto in cui possono essere eseguiti.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-247">The following table describes the various script events and the context under which they can be run.</span></span>

| <span data-ttu-id="2bfa8-248">Tempo di esecuzione degli script</span><span class="sxs-lookup"><span data-stu-id="2bfa8-248">Script Execution Time</span></span>       | <span data-ttu-id="2bfa8-249">Può essere specificato nella configurazione di distribuzione</span><span class="sxs-lookup"><span data-stu-id="2bfa8-249">Can be specified in Deployment Configuration</span></span> | <span data-ttu-id="2bfa8-250">Può essere specificato nella configurazione utente</span><span class="sxs-lookup"><span data-stu-id="2bfa8-250">Can be specified in User Configuration</span></span> | <span data-ttu-id="2bfa8-251">Può essere eseguito nell'ambiente virtuale del pacchetto</span><span class="sxs-lookup"><span data-stu-id="2bfa8-251">Can run in the Virtual Environment of the package</span></span> | <span data-ttu-id="2bfa8-252">Può essere eseguito nel contesto di un'applicazione specifica</span><span class="sxs-lookup"><span data-stu-id="2bfa8-252">Can be run in the context of a specific application</span></span> | <span data-ttu-id="2bfa8-253">Viene eseguito in contesto sistema/utente: (configurazione della distribuzione, configurazione utente)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-253">Runs in system/user context: (Deployment Configuration, User Configuration)</span></span> |
|-----------------------------|----------------------------------------------|----------------------------------------|---------------------------------------------------|-----------------------------------------------------|-----------------------------------------------------------------------------|
| <span data-ttu-id="2bfa8-254">AddPackage</span><span class="sxs-lookup"><span data-stu-id="2bfa8-254">AddPackage</span></span>                  | <span data-ttu-id="2bfa8-255">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-255">X</span></span>                                            |                                        |                                                   |                                                     | <span data-ttu-id="2bfa8-256">(SISTEMA, N/D)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-256">(SYSTEM, N/A)</span></span>                                                               |
| <span data-ttu-id="2bfa8-257">PublishPackage</span><span class="sxs-lookup"><span data-stu-id="2bfa8-257">PublishPackage</span></span>              | <span data-ttu-id="2bfa8-258">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-258">X</span></span>                                            | <span data-ttu-id="2bfa8-259">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-259">X</span></span>                                      |                                                   |                                                     | <span data-ttu-id="2bfa8-260">(Sistema; utente)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-260">(SYSTEM, User)</span></span>                                                              |
| <span data-ttu-id="2bfa8-261">UnpublishPackage</span><span class="sxs-lookup"><span data-stu-id="2bfa8-261">UnpublishPackage</span></span>            | <span data-ttu-id="2bfa8-262">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-262">X</span></span>                                            | <span data-ttu-id="2bfa8-263">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-263">X</span></span>                                      |                                                   |                                                     | <span data-ttu-id="2bfa8-264">(Sistema; utente)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-264">(SYSTEM, User)</span></span>                                                              |
| <span data-ttu-id="2bfa8-265">RemovePackage</span><span class="sxs-lookup"><span data-stu-id="2bfa8-265">RemovePackage</span></span>               | <span data-ttu-id="2bfa8-266">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-266">X</span></span>                                            |                                        |                                                   |                                                     | <span data-ttu-id="2bfa8-267">(SISTEMA, N/D)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-267">(SYSTEM, N/A)</span></span>                                                               |
| <span data-ttu-id="2bfa8-268">StartProcess quale nome</span><span class="sxs-lookup"><span data-stu-id="2bfa8-268">StartProcess</span></span>                | <span data-ttu-id="2bfa8-269">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-269">X</span></span>                                            | <span data-ttu-id="2bfa8-270">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-270">X</span></span>                                      | <span data-ttu-id="2bfa8-271">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-271">X</span></span>                                                 | <span data-ttu-id="2bfa8-272">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-272">X</span></span>                                                   | <span data-ttu-id="2bfa8-273">(Utente, utente)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-273">(User, User)</span></span>                                                                |
| <span data-ttu-id="2bfa8-274">ExitProcess</span><span class="sxs-lookup"><span data-stu-id="2bfa8-274">ExitProcess</span></span>                 | <span data-ttu-id="2bfa8-275">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-275">X</span></span>                                            | <span data-ttu-id="2bfa8-276">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-276">X</span></span>                                      |                                                   | <span data-ttu-id="2bfa8-277">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-277">X</span></span>                                                   | <span data-ttu-id="2bfa8-278">(Utente, utente)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-278">(User, User)</span></span>                                                                |
| <span data-ttu-id="2bfa8-279">StartVirtualEnvironment</span><span class="sxs-lookup"><span data-stu-id="2bfa8-279">StartVirtualEnvironment</span></span>     | <span data-ttu-id="2bfa8-280">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-280">X</span></span>                                            | <span data-ttu-id="2bfa8-281">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-281">X</span></span>                                      | <span data-ttu-id="2bfa8-282">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-282">X</span></span>                                                 |                                                     | <span data-ttu-id="2bfa8-283">(Utente, utente)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-283">(User, User)</span></span>                                                                |
| <span data-ttu-id="2bfa8-284">TerminateVirtualEnvironment</span><span class="sxs-lookup"><span data-stu-id="2bfa8-284">TerminateVirtualEnvironment</span></span> | <span data-ttu-id="2bfa8-285">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-285">X</span></span>                                            | <span data-ttu-id="2bfa8-286">X</span><span class="sxs-lookup"><span data-stu-id="2bfa8-286">X</span></span>                                      |                                                   |                                                     | <span data-ttu-id="2bfa8-287">(Utente, utente)</span><span class="sxs-lookup"><span data-stu-id="2bfa8-287">(User, User)</span></span>                                                                |

### <span data-ttu-id="2bfa8-288">Uso di più script in un singolo trigger di evento</span><span class="sxs-lookup"><span data-stu-id="2bfa8-288">Using multiple scripts on a single event trigger</span></span>

<span data-ttu-id="2bfa8-289">App-V 5,1 supporta l'uso di più script in un singolo trigger di evento per i pacchetti App-V, inclusi i pacchetti convertiti da App-V 4,6 in App-V 5,0 o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-289">App-V 5.1 supports the use of multiple scripts on a single event trigger for App-V packages, including packages that you convert from App-V 4.6 to App-V 5.0 or later.</span></span> <span data-ttu-id="2bfa8-290">Per abilitare l'uso di più script, App-V 5,1 usa un'applicazione di avvio di script, denominata ScriptRunner.exe, che viene installata come parte dell'installazione del client App-V.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-290">To enable the use of multiple scripts, App-V 5.1 uses a script launcher application, named ScriptRunner.exe, which is installed as part of the App-V client installation.</span></span>

### <span data-ttu-id="2bfa8-291">Come usare più script in un singolo trigger di evento</span><span class="sxs-lookup"><span data-stu-id="2bfa8-291">How to use multiple scripts on a single event trigger</span></span>

<span data-ttu-id="2bfa8-292">Per ogni script che si vuole eseguire, passare lo script come argomento all'applicazione ScriptRunner.exe.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-292">For each script that you want to run, pass that script as an argument to the ScriptRunner.exe application.</span></span> <span data-ttu-id="2bfa8-293">L'applicazione esegue quindi ogni script separatamente, insieme agli argomenti specificati per ogni script.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-293">The application then runs each script separately, along with the arguments that you specify for each script.</span></span> <span data-ttu-id="2bfa8-294">Usare un solo script (ScriptRunner.exe) per trigger.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-294">Use only one script (ScriptRunner.exe) per trigger.</span></span>

> [!NOTE]
> 
> <span data-ttu-id="2bfa8-295">È consigliabile eseguire prima di tutto la riga di script da un prompt dei comandi per verificare che tutti gli argomenti vengano generati correttamente prima di aggiungerli al file di configurazione della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-295">We recommended that you run the multi-script line from a command prompt first to make sure that all arguments are built correctly before adding them to the deployment configuration file.</span></span>

### <span data-ttu-id="2bfa8-296">Esempio di script e descrizioni di parametri</span><span class="sxs-lookup"><span data-stu-id="2bfa8-296">Example script and parameter descriptions</span></span>

<span data-ttu-id="2bfa8-297">Usando il file e la tabella di esempio seguenti, modificare il file di configurazione della distribuzione o dell'utente per aggiungere gli script che si desidera eseguire.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-297">Using the following example file and table, modify the deployment or user configuration file to add the scripts that you want to run.</span></span>

```XML
<MachineScripts>
 <AddPackage>
   <Path>ScriptRunner.exe</Path>
   <Arguments>
   -appvscript script1.exe arg1 arg2 –appvscriptrunnerparameters –wait –timeout=10
   -appvscript script2.vbs arg1 arg2
   -appvscript script3.bat arg1 arg2 –appvscriptrunnerparameters –wait –timeout=30 –rollbackonerror
   </Arguments>
   <Wait timeout=”40” RollbackOnError=”true”/>
 </AddPackage>
</MachineScripts>
```


**<span data-ttu-id="2bfa8-298">I parametri nel file di esempio includono:</span><span class="sxs-lookup"><span data-stu-id="2bfa8-298">Parameters in the example file include:</span></span>**

#### \<AddPackage\>

<span data-ttu-id="2bfa8-299">Nome del trigger dell'evento per cui si esegue uno script, ad esempio l'aggiunta di un pacchetto o la pubblicazione di un pacchetto.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-299">Name of the event trigger for which you are running a script, such as adding a package or publishing a package.</span></span>

#### \<Path\><span data-ttu-id="2bfa8-300">ScriptRunner.exe</span><span class="sxs-lookup"><span data-stu-id="2bfa8-300">ScriptRunner.exe</span></span>\</Path\>

<span data-ttu-id="2bfa8-301">L'applicazione di avvio script installata come parte dell'installazione del client App-V.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-301">The script launcher application that is installed as part of the App-V client installation.</span></span>

> [!NOTE]
> 
> <span data-ttu-id="2bfa8-302">Anche se ScriptRunner.exe viene installato come parte del client App-V, la posizione del client App-V deve essere in% path% o ScriptRunner non verrà eseguito.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-302">Although ScriptRunner.exe is installed as part of the App-V client, the location of the App-V client must be in %path% or ScriptRunner will not run.</span></span> <span data-ttu-id="2bfa8-303">ScriptRunner.exe si trova in genere in C:FilesApplication Virtualizationfolder.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-303">ScriptRunner.exe is typically located in the C:FilesApplication Virtualizationfolder.</span></span>

#### \<Arguments\>

`-appvscript` <span data-ttu-id="2bfa8-304">-Token che rappresenta lo script effettivo che si vuole eseguire.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-304">- Token that represents the actual script that you want to run.</span></span>

`script1.exe` <span data-ttu-id="2bfa8-305">: Nome dello script che si vuole eseguire.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-305">– Name of the script that you want to run.</span></span>

`arg1 arg2` <span data-ttu-id="2bfa8-306">-Argomenti per lo script che si vuole eseguire.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-306">– Arguments for the script that you want to run.</span></span>

`-appvscriptrunnerparameters` <span data-ttu-id="2bfa8-307">-Token che rappresenta le opzioni di esecuzione per script1.exe.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-307">– Token that represents the execution options for script1.exe.</span></span>

`-wait` <span data-ttu-id="2bfa8-308">-Token che informa ScriptRunner di attendere il completamento dell'esecuzione di script1.exe prima di procedere con lo script successivo.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-308">– Token that informs ScriptRunner to wait for execution of script1.exe to complete before proceeding to the next script.</span></span>

`-timeout=x` <span data-ttu-id="2bfa8-309">-Token che informa ScriptRunner di interrompere l'esecuzione dello script corrente dopo il numero di secondi x.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-309">– Token that informs ScriptRunner to stop running the current script after x number of seconds.</span></span> <span data-ttu-id="2bfa8-310">Vengono ancora eseguiti tutti gli altri script specificati.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-310">All other specified scripts still runs.</span></span>

`-rollbackonerror` <span data-ttu-id="2bfa8-311">-Token che informa ScriptRunner di interrompere l'esecuzione di tutti gli script che non sono ancora stati eseguiti e di ripristinare un errore nel client App-V.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-311">– Token that informs ScriptRunner to stop running all scripts that haven't yet run and to roll back an error to the App-V client.</span></span>

#### \<Wait timeout=”40” RollbackOnError=”true”/\>

<span data-ttu-id="2bfa8-312">Attende il completamento complessivo della ScriptRunner.exe.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-312">Waits for overall completion of ScriptRunner.exe.</span></span>

<span data-ttu-id="2bfa8-313">Imposta il valore di timeout per il partecipante globale in modo che sia maggiore o uguale alla somma dei valori di timeout per i singoli script.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-313">Set the timeout value for the overall runner to be greater than or equal to the sum of the timeout values on the individual scripts.</span></span>

<span data-ttu-id="2bfa8-314">Se un singolo script ha segnalato un errore e rollbackonerror è stato impostato su true, ScriptRunner segnala l'errore al client App-V.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-314">If any individual script reported an error and rollbackonerror was set to true, then ScriptRunner would report the error to App-V client.</span></span>

<span data-ttu-id="2bfa8-315">ScriptRunner esegue qualsiasi script il cui tipo di file sia associato a un'applicazione installata nel computer.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-315">ScriptRunner runs any script whose file type is associated with an application installed on the computer.</span></span> <span data-ttu-id="2bfa8-316">Se l'applicazione associata è mancante o il tipo di file dello script non è associato a nessuna applicazione nel computer, lo script non viene eseguito.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-316">If the associated application is missing, or the script’s file type is not associated with any application on the computer, the script does not run.</span></span>

### <span data-ttu-id="2bfa8-317">Creare un file di configurazione dinamica usando un file manifesto di App-V 5,1</span><span class="sxs-lookup"><span data-stu-id="2bfa8-317">Create a dynamic configuration file using an App-V 5.1 manifest file</span></span>

<span data-ttu-id="2bfa8-318">Puoi creare il file di configurazione dinamica usando uno dei tre metodi seguenti: manualmente, usando la console di gestione di App-V 5,1 o sequenziando un pacchetto, che genera due file di esempio.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-318">You can create the dynamic configuration file using one of three methods: either manually, using the App-V 5.1 Management Console or sequencing a package, which generates two sample files.</span></span> <span data-ttu-id="2bfa8-319">Per altre informazioni su come creare il file usando la console di gestione di App-V 5,1, vedere [come creare un file di configurazione personalizzato usando la console di gestione di App-v 5,1](how-to-create-a-custom-configuration-file-by-using-the-app-v-51-management-console.md).</span><span class="sxs-lookup"><span data-stu-id="2bfa8-319">For more information about how to create the file using the App-V 5.1 Management Console see, [How to create a custom configuration File by using the App-V 5.1 Management Console](how-to-create-a-custom-configuration-file-by-using-the-app-v-51-management-console.md).</span></span>

<span data-ttu-id="2bfa8-320">Per creare il file manualmente, è possibile combinare le informazioni di cui sopra nelle sezioni precedenti in un singolo file.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-320">To create the file manually, the information above in previous sections can be combined into a single file.</span></span> <span data-ttu-id="2bfa8-321">Ti consigliamo di usare i file generati dal sequencer.</span><span class="sxs-lookup"><span data-stu-id="2bfa8-321">We recommend you use files generated by the sequencer.</span></span>



- <span data-ttu-id="2bfa8-322">Aggiungere o votare i suggerimenti [qui](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization).</span><span class="sxs-lookup"><span data-stu-id="2bfa8-322">Add or vote on suggestions [here](http://appv.uservoice.com/forums/280448-microsoft-application-virtualization).</span></span>
- <span data-ttu-id="2bfa8-323">Per i problemi di App-V, usa il [Forum di App-v TechNet](https://social.technet.microsoft.com/Forums/home?forum=mdopappv).</span><span class="sxs-lookup"><span data-stu-id="2bfa8-323">For App-V issues, use the [App-V TechNet Forum](https://social.technet.microsoft.com/Forums/home?forum=mdopappv).</span></span>

## <span data-ttu-id="2bfa8-324">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="2bfa8-324">Related topics</span></span>

- [<span data-ttu-id="2bfa8-325">Come applicare il file di configurazione della distribuzione con PowerShell</span><span class="sxs-lookup"><span data-stu-id="2bfa8-325">How to Apply the Deployment Configuration File by Using PowerShell</span></span>](how-to-apply-the-deployment-configuration-file-by-using-powershell51.md)

- [<span data-ttu-id="2bfa8-326">Come applicare il file di configurazione utente con PowerShell</span><span class="sxs-lookup"><span data-stu-id="2bfa8-326">How to Apply the User Configuration File by Using PowerShell</span></span>](how-to-apply-the-user-configuration-file-by-using-powershell51.md)

- [<span data-ttu-id="2bfa8-327">Operazioni per App-V 5.1</span><span class="sxs-lookup"><span data-stu-id="2bfa8-327">Operations for App-V 5.1</span></span>](operations-for-app-v-51.md)

---
